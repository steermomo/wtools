(function(){"use strict";var t={3973:function(t,e,n){var r=n(1175),o=n(6768);const a={id:"app"};function i(t,e,n,r,i,l){const s=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(s)])}var l={name:"App"},s=n(1241);const u=(0,s.A)(l,[["render",i]]);var c=u,h=n(1387);const d={id:"home"};function f(t,e,n,r,a,i){const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",d,[e[1]||(e[1]=(0,o.Lk)("h1",null,"导航页",-1)),(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.bF)(l,{to:"/image-processor"},{default:(0,o.k6)((()=>e[0]||(e[0]=[(0,o.eW)("图片灰度转换与二值化")]))),_:1})])])])}var p={name:"HomePage"};const v=(0,s.A)(p,[["render",f]]);var g=v,m=n(4232),k=n(5130);const b={id:"app"},w={for:"threshold"},y=["src"],x={key:1,ref:"canvas"};function L(t,e,n,r,a,i){return(0,o.uX)(),(0,o.CE)("div",b,[e[3]||(e[3]=(0,o.Lk)("h1",null,"图片灰度转换与二值化",-1)),(0,o.Lk)("input",{type:"file",onChange:e[0]||(e[0]=(...t)=>i.loadImage&&i.loadImage(...t)),accept:"image/*"},null,32),(0,o.Lk)("label",w,"二值化阈值: "+(0,m.v_)(a.threshold),1),(0,o.bo)((0,o.Lk)("input",{type:"range",id:"threshold","onUpdate:modelValue":e[1]||(e[1]=t=>a.threshold=t),min:"0",max:"255"},null,512),[[k.Jo,a.threshold]]),(0,o.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>i.applyThreshold&&i.applyThreshold(...t))},"重新生成二值化图片"),e[4]||(e[4]=(0,o.Lk)("h2",null,"原始图片",-1)),a.imageSrc?((0,o.uX)(),(0,o.CE)("img",{key:0,src:a.imageSrc,alt:"Uploaded Image"},null,8,y)):(0,o.Q3)("",!0),e[5]||(e[5]=(0,o.Lk)("h2",null,"处理后的图片",-1)),a.imageSrc?((0,o.uX)(),(0,o.CE)("canvas",x,null,512)):(0,o.Q3)("",!0)])}var O={data(){return{imageSrc:null,threshold:128,canvas:null,context:null}},methods:{loadImage(t){const e=t.target.files[0];if(e){const t=new FileReader;t.onload=t=>{this.imageSrc=t.target.result,this.$nextTick((()=>{this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d");const t=new Image;t.src=this.imageSrc,t.onload=()=>{this.canvas.width=t.width,this.canvas.height=t.height,this.context.drawImage(t,0,0),this.applyThreshold()}}))},t.readAsDataURL(e)}},applyThreshold(){if(this.context&&this.imageSrc){const t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),e=t.data;for(let n=0;n<e.length;n+=4){const t=e[n],r=e[n+1],o=e[n+2],a=.299*t+.587*r+.114*o,i=a>this.threshold?255:0;e[n]=e[n+1]=e[n+2]=i}this.context.putImageData(t,0,0)}}}};const C=(0,s.A)(O,[["render",L],["__scopeId","data-v-c46b9e82"]]);var I=C;r["default"].use(h["default"]);var T=new h["default"]({mode:"history",routes:[{path:"/",name:"Home",component:g},{path:"/image-processor",name:"ImageProcessor",component:I}]});r["default"].config.productionTip=!1,new r["default"]({router:T,render:t=>t(c)}).$mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],o=t[c][1],a=t[c][2];for(var l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[s])}))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,i=r[0],l=r[1],s=r[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var c=s(n)}for(e&&e(r);u<i.length;u++)a=i[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},r=self["webpackChunkwtools"]=self["webpackChunkwtools"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(3973)}));r=n.O(r)})();
//# sourceMappingURL=app.8b4c2970.js.map