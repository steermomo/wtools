(function(){"use strict";var e={5107:function(e,t,n){var a=n(9984);const r={id:"app"};function o(e,t,n,o,i,l){const s=(0,a.g2)("v-tab"),c=(0,a.g2)("v-tabs"),u=(0,a.g2)("v-card"),h=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{"bg-color":"teal-darken-3","slider-color":"teal-lighten-3","show-arrows":""},{default:(0,a.k6)((()=>[(0,a.bF)(s,{to:"/"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Home")]))),_:1}),(0,a.bF)(s,{to:"/image-processor"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("水印二向箔")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(h)])}var i={name:"App"},l=n(2227);const s=(0,l.A)(i,[["render",o]]);var c=s;const u={id:"home"};function h(e,t,n,r,o,i){return(0,a.uX)(),(0,a.CE)("div",u,t[0]||(t[0]=[(0,a.Lk)("h1",null,"You Need This!",-1)]))}var d={name:"HomePage"};const f=(0,l.A)(d,[["render",h]]);var g=f,v=n(503);const p={id:"image-binary"},m={for:"threshold"},b=["src"],k={key:0,ref:"canvas",class:"responsive-canvas"};function y(e,t,n,r,o,i){const l=(0,a.g2)("v-file-input"),s=(0,a.g2)("v-col"),c=(0,a.g2)("v-row"),u=(0,a.g2)("v-slider"),h=(0,a.g2)("v-btn"),d=(0,a.g2)("v-container"),f=(0,a.g2)("v-divider");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(d,{class:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{align:"start",justify:"center",style:{"padding-top":"1em"}},{default:(0,a.k6)((()=>[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,{label:"Img",variant:"solo",onChange:i.loadImage},null,8,["onChange"])])),_:1})])),_:1}),(0,a.bF)(c,{justify:"center",align:"center"},{default:(0,a.k6)((()=>[(0,a.Lk)("label",m," Threshold: "+(0,v.v_)(o.threshold),1)])),_:1}),(0,a.bF)(c,{justify:"center",align:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{justify:"center",align:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{type:"range",id:"threshold",modelValue:i.thresholdValue,"onUpdate:modelValue":t[0]||(t[0]=e=>i.thresholdValue=e),min:"0",max:"255",style:{width:"30%"}},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.bF)(c,{justify:"center",align:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{"prepend-icon":"mdi-arrow-collapse-vertical",variant:"tonal",onClick:i.applyThreshold},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)(" 压扁 ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(f),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[t[2]||(t[2]=(0,a.Lk)("h2",null,"Before",-1)),o.imageSrc?((0,a.uX)(),(0,a.CE)("img",{key:0,src:o.imageSrc,alt:"Uploaded Image",class:"responsive-img"},null,8,b)):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[t[3]||(t[3]=(0,a.Lk)("h2",null,"After",-1)),o.imageSrc?((0,a.uX)(),(0,a.CE)("canvas",k,null,512)):(0,a.Q3)("",!0)])),_:1})])),_:1})])}var w={data(){return{imageSrc:null,threshold:128,canvas:null,context:null}},computed:{thresholdValue:{get(){return this.threshold},set(e){this.threshold=Math.round(e)}}},methods:{loadImage(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.imageSrc=e.target.result,this.$nextTick((()=>{this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d");const e=new Image;e.src=this.imageSrc,e.onload=()=>{this.canvas.width=e.width,this.canvas.height=e.height,this.context.drawImage(e,0,0),this.applyThreshold()}}))},e.readAsDataURL(t)}},applyThreshold(){if(this.context&&this.imageSrc){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);const e=new Image;e.src=this.imageSrc,e.onload=()=>{this.canvas.width=e.width,this.canvas.height=e.height,this.context.drawImage(e,0,0);const t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.data;for(let e=0;e<n.length;e+=4){const t=n[e],a=n[e+1],r=n[e+2],o=.299*t+.587*a+.114*r,i=o>this.threshold?255:0;n[e]=n[e+1]=n[e+2]=i}this.context.putImageData(t,0,0)}}}}};const _=(0,l.A)(w,[["render",y],["__scopeId","data-v-796e4c3e"]]);var F=_,x=n(509);const j=[{path:"/",name:"Home",component:g},{path:"/image-processor",name:"ImageProcessor",component:F}],C=(0,x.aE)({history:(0,x.sC)(),routes:j});var O=C,S=n(321),I=(n(8087),n(5153)),T=n(586),E=n(8403);const A=(0,I.$N)({components:T,directives:E});(0,S.Ef)(c).use(O).use(A).mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var l=!0,s=0;s<a.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],l=a[1],s=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var u=s(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkwtools"]=self["webpackChunkwtools"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(5107)}));a=n.O(a)})();
//# sourceMappingURL=app.420a7346.js.map