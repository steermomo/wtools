(function(){"use strict";var t={3973:function(t,n,e){var r=e(6768);const o={id:"app"};function a(t,n,e,a,i,s){const c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(c)])}var i={name:"App"},s=e(1241);const c=(0,s.A)(i,[["render",a]]);var l=c;const u={id:"home"};function h(t,n,e,o,a,i){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",u,[n[1]||(n[1]=(0,r.Lk)("h1",null,"导航页",-1)),(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.bF)(s,{to:"/image-processor"},{default:(0,r.k6)((()=>n[0]||(n[0]=[(0,r.eW)("图片灰度转换与二值化")]))),_:1})])])])}var d={name:"HomePage"};const f=(0,s.A)(d,[["render",h]]);var p=f,v=e(4232),g=e(5130);const m={id:"app"},k={for:"threshold"},b=["src"],w={key:1,ref:"canvas"};function y(t,n,e,o,a,i){return(0,r.uX)(),(0,r.CE)("div",m,[n[3]||(n[3]=(0,r.Lk)("h1",null,"图片灰度转换与二值化",-1)),(0,r.Lk)("input",{type:"file",onChange:n[0]||(n[0]=(...t)=>i.loadImage&&i.loadImage(...t)),accept:"image/*"},null,32),(0,r.Lk)("label",k,"二值化阈值: "+(0,v.v_)(a.threshold),1),(0,r.bo)((0,r.Lk)("input",{type:"range",id:"threshold","onUpdate:modelValue":n[1]||(n[1]=t=>a.threshold=t),min:"0",max:"255"},null,512),[[g.Jo,a.threshold]]),(0,r.Lk)("button",{onClick:n[2]||(n[2]=(...t)=>i.applyThreshold&&i.applyThreshold(...t))},"重新生成二值化图片"),n[4]||(n[4]=(0,r.Lk)("h2",null,"原始图片",-1)),a.imageSrc?((0,r.uX)(),(0,r.CE)("img",{key:0,src:a.imageSrc,alt:"Uploaded Image"},null,8,b)):(0,r.Q3)("",!0),n[5]||(n[5]=(0,r.Lk)("h2",null,"处理后的图片",-1)),a.imageSrc?((0,r.uX)(),(0,r.CE)("canvas",w,null,512)):(0,r.Q3)("",!0)])}var x={data(){return{imageSrc:null,threshold:128,canvas:null,context:null}},methods:{loadImage(t){const n=t.target.files[0];if(n){const t=new FileReader;t.onload=t=>{this.imageSrc=t.target.result,this.$nextTick((()=>{this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d");const t=new Image;t.src=this.imageSrc,t.onload=()=>{this.canvas.width=t.width,this.canvas.height=t.height,this.context.drawImage(t,0,0),this.applyThreshold()}}))},t.readAsDataURL(n)}},applyThreshold(){if(this.context&&this.imageSrc){const t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.data;for(let e=0;e<n.length;e+=4){const t=n[e],r=n[e+1],o=n[e+2],a=.299*t+.587*r+.114*o,i=a>this.threshold?255:0;n[e]=n[e+1]=n[e+2]=i}this.context.putImageData(t,0,0)}}}};const C=(0,s.A)(x,[["render",y],["__scopeId","data-v-c46b9e82"]]);var L=C,O=e(1387);const I=[{path:"/",name:"Home",component:p},{path:"/image-processor",name:"ImageProcessor",component:L}],E=(0,O.aE)({history:(0,O.sC)(),routes:I});var S=E;(0,g.Ef)(l).use(S).mount("#app")}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return t[r].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(n,r,o,a){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],a=t[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(e.O).every((function(t){return e.O[t](r[c])}))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(u--,1);var l=o();void 0!==l&&(n=l)}}return n}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,r){var o,a,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(n){return 0!==t[n]}))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(c)var u=c(e)}for(n&&n(r);l<i.length;l++)a=i[l],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(u)},r=self["webpackChunkwtools"]=self["webpackChunkwtools"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=e.O(void 0,[504],(function(){return e(3973)}));r=e.O(r)})();
//# sourceMappingURL=app.0bd54af9.js.map